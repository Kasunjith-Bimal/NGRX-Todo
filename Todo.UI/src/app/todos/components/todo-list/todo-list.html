<div>
  <h2>Todo List</h2>
  <div *ngIf="(loading$ | async)" class="loading">Loading...</div>
  <div *ngIf="(error$ | async) as error" class="error">Error: {{ error }}</div>
  
  
  <div class="add-todo">
    <input
      [(ngModel)]="newTodo"
      placeholder="Add a new todo..."
      (keyup.enter)="addTodo()"
    />
    <button (click)="addTodo()">Add</button>
  </div>
  <div>
    <app-todo-item *ngFor="let todo of todos$ | async; trackBy: trackByTodoId"
      [todo]="todo"
      (update)="onUpdate($event)"
      (delete)="onDelete($event)">
    </app-todo-item>
  </div>
</div>